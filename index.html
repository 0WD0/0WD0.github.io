<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-未命名" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/%E6%9C%AA%E5%91%BD%E5%90%8D/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.472Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>$ npm install -g hexo-cli</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/%E6%9C%AA%E5%91%BD%E5%90%8D/" data-id="cl3ri3l3h000q1cw23hc32jq4" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-P5121" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/P5121/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.469Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[implementation]]<br><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P5121">link</a></p>
<pre><code>while(还有可以删的连通块)&#123;
    找连通块，判断连通块大小，删除或不删；
    掉落；
&#125;
</code></pre>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,k,cnt,vis[<span class="number">111</span>][<span class="number">11</span>],li[<span class="number">1110</span>],dx[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,c,cn,la,ga;</span><br><span class="line"><span class="type">char</span> ch[<span class="number">111</span>][<span class="number">11</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">	vis[x][y]=cn;c++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)<span class="keyword">if</span>(!vis[x+dx[i]][y+dy[i]]&amp;&amp;ch[x+dx[i]][y+dy[i]]==ch[x][y])<span class="built_in">dfs</span>(x+dx[i],y+dy[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=<span class="number">10</span>;j++)cin&gt;&gt;ch[i][j];</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		cnt=cn=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">memset</span>(li,<span class="number">0</span>,<span class="keyword">sizeof</span> li);</span><br><span class="line">		<span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span> vis);</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=<span class="number">10</span>;j++)<span class="keyword">if</span>(!vis[i][j]&amp;&amp;ch[i][j]!=<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">			cn++,c=<span class="number">0</span>,<span class="built_in">dfs</span>(i,j);</span><br><span class="line">			<span class="keyword">if</span>(c&gt;=k)li[cn]=<span class="number">1</span>,cnt++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=<span class="number">10</span>;j++)<span class="keyword">if</span>(li[vis[i][j]])ch[i][j]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		<span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=<span class="number">10</span>;j++)&#123;</span><br><span class="line">			<span class="keyword">for</span>(la=i=n;i&amp;&amp;ch[i][j]!=<span class="string">&#x27;0&#x27;</span>;i--,la--);</span><br><span class="line">			<span class="keyword">for</span>(;i;)&#123;</span><br><span class="line">				<span class="keyword">if</span>(ch[i][j]==<span class="string">&#x27;0&#x27;</span>)&#123;</span><br><span class="line">					<span class="keyword">for</span>(;i&amp;&amp;ch[i][j]==<span class="string">&#x27;0&#x27;</span>;i--);</span><br><span class="line">					ga=la-i;</span><br><span class="line">					<span class="keyword">for</span>(;i&amp;&amp;ch[i][j]!=<span class="string">&#x27;0&#x27;</span>;i--)ch[i+ga][j]=ch[i][j],ch[i][j]=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">					la=i+ga;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(!cnt)<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;cout&lt;&lt;endl,i++)<span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=<span class="number">10</span>;j++)cout&lt;&lt;ch[i][j];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/P5121/" data-id="cl3ri3l3b000p1cw29s1q5dq0" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1662N" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1662N/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.466Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[math]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1662/N">link</a></p>
<p>Let $a&lt;b&lt;c&lt;d$, ignoring the direction.<br>There are two passible situations:<br>$a$ $b$     |        $a$ $b$<br>$c$ $d$     |        $d$ $c$</p>
<p>That’s all.</p>
<p><em>Discovered what?</em></p>
<p>$b$ and $c$ must in the middle of the vertices near it.</p>
<p>And rectangles which aren’t eligible must don’t satisfy the description above.</p>
<p>And it’s doesn’t matter that whether “$b$” and “$c$” is in the same column or row or neither.</p>
<p>Therefore, the answer is the number of “$b$” (“$c$” and “$b$” have same features, so the answer should divided by 2).</p>
<p>We can use <code>sort()</code> and <code>lower_bound()</code> to compute the rank of $x_{i,j}$ in the column and row.</p>
<p>Complexity: $O(n^2\log n)$</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1502</span>;</span><br><span class="line"><span class="type">int</span> n,m,x[N][N],b[N],prel[N][N],sufl[N][N],prec[N][N],sufc[N][N];</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	cin&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">			cin&gt;&gt;x[i][j];</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)b[j]=x[i][j];<span class="built_in">sort</span>(b+<span class="number">1</span>,b+<span class="number">1</span>+n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)prel[i][j]=<span class="built_in">lower_bound</span>(b+<span class="number">1</span>,b+<span class="number">1</span>+n,x[i][j])-b<span class="number">-1</span>,sufl[i][j]=n-prel[i][j]<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)b[j]=x[j][i];<span class="built_in">sort</span>(b+<span class="number">1</span>,b+<span class="number">1</span>+n);</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)prec[j][i]=<span class="built_in">lower_bound</span>(b+<span class="number">1</span>,b+<span class="number">1</span>+n,x[j][i])-b<span class="number">-1</span>,sufc[j][i]=n-prec[j][i]<span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">			ans+=prel[i][j]*sufc[i][j]+prec[i][j]*sufl[i][j];</span><br><span class="line">	fout&lt;&lt;ans/<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="I’m-the-first-solver-of-this-problem-in-CF"><a href="#I’m-the-first-solver-of-this-problem-in-CF" class="headerlink" title="I’m the first solver of this problem in CF!"></a>I’m the first solver of this problem in CF!</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1662N/" data-id="cl3ri3l2t00051cw2dpi4c0pi" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1662L" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1662L/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.462Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[DP]] [[conversion]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1662/L">link</a></p>
<h2 id="Tutorial-on-CF"><a href="#Tutorial-on-CF" class="headerlink" title="Tutorial on CF"></a>Tutorial on CF</h2><p>Let $x_i:&#x3D;vt_i−a_i$ and $y_i:&#x3D;vt_i+a_i$ for $i&#x3D;1,…,n$. The main observation to solve this problem is that a sequence of kicks with indices $i_1,…,i_k$ can be seen (in this order and starting from the first one) if and only if both sequences $x_{i_1},…,x_{i_k}$ and $y_{i_1},…,y_{i_k}$ are nondecreasing. To see this, observe that<br>$$<br>x_i≤x_j⟺vt_i−a_i≤vt_j−a_j⟺a_j−a_i≤v(t_j−t_i)<br>$$</p>
<p>and<br>$$<br>y_i≤y_j⟺vt_i+a_i≤vt_j+a_j⟺a_i−a_j≤v(t_j−t_i)<br>$$<br>Moreover<br>$$<br>t_i&#x3D;\frac{x_i+y_i}{2v}<br>$$<br>so if both sequences are nondecreasing, then their corresponding times are in increasing order and it holds that $|a_{i_ℓ}+1−a_{i_ℓ}|≤v(t_{i_ℓ}+1−t_{i_ℓ})$, which means that each event can be reached from the previous one. The converse is clear from the previous inequalities.</p>
<p>In order to impose the condition that the events can be reached starting from position 00 at time 00, it is enough to remove all points which cannot be reached from the origin, that is, with $|ai|&gt;vti$. We will assume that these events have been eliminated and still denote by $n$ the total number of events.</p>
<p>We have thus reduced the problem to finding the longest increasing subsequence of the $y$-values when ordered by increasing xx-value. More precisely, let $(p_1,…,p_n)$ be the permutation of $(1,…,n)$ such that</p>
<p>$i&lt;j⟹x_{p_i}&lt;x_{p_j}\ \text{or}\ (x_{p_i}&#x3D;x_{p_j}\ \text{and}\ y_{p_i}&lt;y_{p_j})$.</p>
<p>Then the solution of the problem is the length of the longest (non-strictly) increasing subsequence of the list $y_{p_1},…,y_{p_n}$.</p>
<p>There are classical algorithms to solve this efficiently in $O(n\log n)$ time. For instance, this complexity is achieved by an approach that processes the elements from left to right and uses binary searches to update the value of the smallest possible last element of a length-$k$ increasing subsequence in every prefix for every $k$.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">200005</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll t[N],a[N],n,v,nn;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">A</span>&#123;ll x,y;&#125;_[N];</span><br><span class="line">ll dp[N],u;</span><br><span class="line"><span class="type">int</span> top;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>,&amp;n,&amp;v);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;t[i]);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>,&amp;a[i]);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)<span class="keyword">if</span>(<span class="built_in">abs</span>(a[i])&lt;=v*t[i])_[++nn]=&#123;t[i]*v+a[i],t[i]*v-a[i]&#125;;n=nn;</span><br><span class="line">	<span class="built_in">sort</span>(_+<span class="number">1</span>,_+<span class="number">1</span>+n,[](A a,A b)&#123;<span class="keyword">return</span> a.x&lt;b.x||(a.x==b.x&amp;&amp;a.y&lt;b.y);&#125;);<span class="comment">//lambda</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>((u=_[i].y)&gt;=dp[top])dp[++top]=u;</span><br><span class="line">		<span class="keyword">else</span> dp[<span class="built_in">upper_bound</span>(dp+<span class="number">1</span>,dp+<span class="number">1</span>+top,u)-dp]=u;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,top);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1662L/" data-id="cl3ri3l2s00041cw2gcalfrqb" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1662I" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1662I/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.458Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[implementation]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1662/I">link</a></p>
<p>Three cases:</p>
<ol>
<li>The leftmost</li>
<li>In the middle</li>
<li>The rightmost</li>
</ol>
<p>In the sides, we can get everyone.</p>
<p>In the middle, we can only get people in a range of the half of the distance between the nearest shops. Use two pointers.</p>
<p>Although the process is simple, the code is full of details.</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code:"></a>Code:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">200005</span>;</span><br><span class="line"><span class="type">int</span> n,m,p[N],x[N];</span><br><span class="line"><span class="type">int</span> range,l,r;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> ans,an;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)cin&gt;&gt;p[i];</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=m;i++)cin&gt;&gt;x[i];</span><br><span class="line">	<span class="built_in">sort</span>(x+<span class="number">1</span>,x+<span class="number">1</span>+m);n--;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=n&amp;&amp;i*<span class="number">100</span>&lt;x[<span class="number">1</span>];i++)ans+=p[i];</span><br><span class="line">	<span class="keyword">for</span>(i=x[m]/<span class="number">100</span>+<span class="number">1</span>;i&lt;=n;i++)an+=p[i];ans=<span class="built_in">max</span>(ans,an);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;x[i]&lt;n*<span class="number">100</span>&amp;&amp;i&lt;m;i++)&#123;</span><br><span class="line">		range=(x[i+<span class="number">1</span>]-x[i])/<span class="number">2</span>/<span class="number">100</span>;</span><br><span class="line">		l=r=x[i]/<span class="number">100</span>+<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">for</span>(an=<span class="number">0</span>;r&lt;=n&amp;&amp;r*<span class="number">100</span>&lt;x[i+<span class="number">1</span>]&amp;&amp;r-l&lt;=range;r++)an+=p[r];</span><br><span class="line">		ans=<span class="built_in">max</span>(ans,an);</span><br><span class="line">		<span class="keyword">for</span>(;r&lt;=n&amp;&amp;r*<span class="number">100</span>&lt;x[i+<span class="number">1</span>];r++,l++)&#123;</span><br><span class="line">			an-=p[l],an+=p[r];</span><br><span class="line">			ans=<span class="built_in">max</span>(ans,an);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1662I/" data-id="cl3ri3l2r00031cw2g7zx70vx" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1662D" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1662D/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.455Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[string]] [[thinking]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1662/D">link</a></p>
<p>$AA$ $BB$ $ABAB$ $BCBC$ are given, ask whether string $a$ can become string $b$.</p>
<p>Inserting and deleting at any position are approved.</p>
<h2 id="Sol"><a href="#Sol" class="headerlink" title="Sol"></a>Sol</h2><p>Firstly, the parity of the occurrences of $A$, $B$ and $C$ are same in $a$ and $b$.</p>
<p>Then, we can transform the string $AB$ to the string $BA$ via the following sequence of moves:</p>
<blockquote>
<p>Start with $AB$, then insert $BB$ at the back of the string to get $ABBB$, then insert the string $ABAB$ in the second to last position to get $ABBABABB$.</p>
<p>Removing the two occurrences of $BB$ we get the string $AABA$ and then removing $AA$ we get to $BA$.</p>
</blockquote>
<p>Similarly,  we can transform the string $BC$ to the string $CB$.</p>
<p>Therefor, $B$ is movable and their positions are of no great importance.</p>
<p>$A$ and $C$ is immovable, so I only need to compare the string consist of $A$ and $C$.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t,la,lb,pa,pb,pc;</span><br><span class="line">string a,b;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">	<span class="keyword">for</span>(;t--;)&#123;</span><br><span class="line">		cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		la=a.<span class="built_in">length</span>();</span><br><span class="line">		lb=b.<span class="built_in">length</span>();</span><br><span class="line">		pa=pb=pc=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;la;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(a[i]==<span class="string">&#x27;A&#x27;</span>)pa^=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[i]==<span class="string">&#x27;B&#x27;</span>)pb^=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(a[i]==<span class="string">&#x27;C&#x27;</span>)pc^=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;lb;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(b[i]==<span class="string">&#x27;A&#x27;</span>)pa^=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(b[i]==<span class="string">&#x27;B&#x27;</span>)pb^=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(b[i]==<span class="string">&#x27;C&#x27;</span>)pc^=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(pa||pb||pc)&#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;la;i++)<span class="keyword">if</span>(a[i]==<span class="string">&#x27;B&#x27;</span>)a.<span class="built_in">erase</span>(i,<span class="number">1</span>),la--,i--;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;lb;i++)<span class="keyword">if</span>(b[i]==<span class="string">&#x27;B&#x27;</span>)b.<span class="built_in">erase</span>(i,<span class="number">1</span>),lb--,i--;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;la<span class="number">-1</span>;i++)<span class="keyword">if</span>(a[i]==a[i+<span class="number">1</span>])a.<span class="built_in">erase</span>(i,<span class="number">2</span>),i=<span class="built_in">max</span>(<span class="number">-1</span>,i<span class="number">-2</span>),la-=<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;lb<span class="number">-1</span>;i++)<span class="keyword">if</span>(b[i]==b[i+<span class="number">1</span>])b.<span class="built_in">erase</span>(i,<span class="number">2</span>),i=<span class="built_in">max</span>(<span class="number">-1</span>,i<span class="number">-2</span>),lb-=<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(a==b)<span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="string-in-STL"><a href="#string-in-STL" class="headerlink" title="string in STL"></a><a href="string.md">string in STL</a></h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1662D/" data-id="cl3ri3l2q00021cw2ccqe21ef" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1201D" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1201D/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.453Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[DP]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1201/D">link</a></p>
<p>We must visit every single treasure (um, and the coordinate $(1,1)$ ,the starting point).</p>
<p>It’s easy to find that the position where you leave is must be the leftmost or the rightmost point.</p>
<p>Obviously, this is a DP problem.</p>
<p>A floor has two nodes, but it can only transfer from the last floor, so the states is $dp[2][2]$.</p>
<p>Then the most important thing is calculate the cost:</p>
<blockquote>
<p>From the lower left to the upper left</p>
<p>From the lower left to the upper right</p>
<p>From the lower right to the upper left</p>
<p>From the lower right to the upper right</p>
<p>And every point at most has two ladder to move upward, a right and a left.</p>
<p>And after you move upward, there are two sides you could choose to go, a right and a left as well.</p>
</blockquote>
<p>So totally, there are 16 situations.</p>
<hr>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">300005</span>,inf=<span class="number">1e9</span>;</span><br><span class="line"><span class="type">int</span> n,m,k,q;</span><br><span class="line"><span class="type">int</span> x,y;</span><br><span class="line"><span class="type">int</span> mi[N],ma[N];</span><br><span class="line"><span class="type">int</span> d[N],pre[N],suf[N],pr,su;</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> dp[<span class="number">2</span>][<span class="number">2</span>],ans,val[<span class="number">2</span>][<span class="number">2</span>];</span><br><span class="line"><span class="type">int</span> t,top;</span><br><span class="line"><span class="type">bool</span> b;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">cal</span><span class="params">(<span class="type">int</span> _,<span class="type">int</span> p,<span class="type">int</span> a)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(top=t;!ma[t]&amp;&amp;t&lt;=n;t++);</span><br><span class="line">	<span class="keyword">if</span>(t==n+<span class="number">1</span>)&#123;</span><br><span class="line">		ans=<span class="built_in">min</span>(dp[b][<span class="number">0</span>],dp[b][<span class="number">1</span>]);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,top<span class="number">-2</span>+ans);</span><br><span class="line">		<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(p&lt;=mi[t])&#123;</span><br><span class="line">		val[_][<span class="number">0</span>]=<span class="built_in">min</span>(val[_][<span class="number">0</span>],inf);</span><br><span class="line">		val[_][<span class="number">1</span>]=<span class="built_in">min</span>(val[_][<span class="number">1</span>],a+ma[t]-p);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(p&gt;=ma[t])&#123;</span><br><span class="line">		val[_][<span class="number">1</span>]=<span class="built_in">min</span>(val[_][<span class="number">1</span>],inf);</span><br><span class="line">		val[_][<span class="number">0</span>]=<span class="built_in">min</span>(val[_][<span class="number">0</span>],a+p-mi[t]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		val[_][<span class="number">0</span>]=<span class="built_in">min</span>(a+ma[t]-p+ma[t]-mi[t],val[_][<span class="number">0</span>]);</span><br><span class="line">		val[_][<span class="number">1</span>]=<span class="built_in">min</span>(a+p-mi[t]+ma[t]-mi[t],val[_][<span class="number">1</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">register</span> <span class="type">int</span> i;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;k,&amp;q);</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)mi[i]=m+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=k;i++)&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;x,&amp;y);</span><br><span class="line">		<span class="keyword">if</span>(mi[x]&gt;y)mi[x]=y;</span><br><span class="line">		<span class="keyword">if</span>(ma[x]&lt;y)ma[x]=y;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=q;i++)<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x),d[x]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(d[i])pr=i;</span><br><span class="line">		pre[i]=pr;</span><br><span class="line">	&#125;</span><br><span class="line">	su=m+<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(i=m;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">		<span class="keyword">if</span>(d[i])su=i;</span><br><span class="line">		suf[i]=su;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(ma[<span class="number">1</span>]!=<span class="number">0</span>)&#123;</span><br><span class="line">		dp[<span class="number">0</span>][<span class="number">1</span>]=ma[<span class="number">1</span>]<span class="number">-1</span>;</span><br><span class="line">		dp[<span class="number">0</span>][<span class="number">0</span>]=inf;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> mi[<span class="number">1</span>]=ma[<span class="number">1</span>]=<span class="number">1</span>;<span class="comment">//&lt;&lt;</span></span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i=t,b^=<span class="number">1</span>)&#123;</span><br><span class="line">		t=i+<span class="number">1</span>;val[<span class="number">0</span>][<span class="number">0</span>]=val[<span class="number">0</span>][<span class="number">1</span>]=val[<span class="number">1</span>][<span class="number">0</span>]=val[<span class="number">1</span>][<span class="number">1</span>]=inf;</span><br><span class="line">		<span class="keyword">if</span>(suf[mi[i]]!=mi[i]&amp;&amp;pre[mi[i]]!=<span class="number">0</span>)</span><br><span class="line">			<span class="built_in">cal</span>(<span class="number">0</span>,pre[mi[i]],mi[i]-pre[mi[i]]);</span><br><span class="line">		<span class="keyword">if</span>(suf[mi[i]]!=m+<span class="number">1</span>)</span><br><span class="line">			<span class="built_in">cal</span>(<span class="number">0</span>,suf[mi[i]],suf[mi[i]]-mi[i]);</span><br><span class="line">		<span class="keyword">if</span>(suf[ma[i]]!=ma[i]&amp;&amp;pre[ma[i]]!=<span class="number">0</span>)</span><br><span class="line">			<span class="built_in">cal</span>(<span class="number">1</span>,pre[ma[i]],ma[i]-pre[ma[i]]);</span><br><span class="line">		<span class="keyword">if</span>(suf[ma[i]]!=m+<span class="number">1</span>)</span><br><span class="line">			<span class="built_in">cal</span>(<span class="number">1</span>,suf[ma[i]],suf[ma[i]]-ma[i]);</span><br><span class="line">		dp[b^<span class="number">1</span>][<span class="number">0</span>]=<span class="built_in">min</span>(val[<span class="number">0</span>][<span class="number">0</span>]+dp[b][<span class="number">0</span>],val[<span class="number">1</span>][<span class="number">0</span>]+dp[b][<span class="number">1</span>]);</span><br><span class="line">		dp[b^<span class="number">1</span>][<span class="number">1</span>]=<span class="built_in">min</span>(val[<span class="number">0</span>][<span class="number">1</span>]+dp[b][<span class="number">0</span>],val[<span class="number">1</span>][<span class="number">1</span>]+dp[b][<span class="number">1</span>]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1201D/" data-id="cl3ri3l2o00011cw29je9c5ra" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF1152D" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF1152D/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.450Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[DP]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1152/problem/D">link</a></p>
<h2 id="What’s-the-max-matching-on-a-tree"><a href="#What’s-the-max-matching-on-a-tree" class="headerlink" title="What’s the max matching on a tree?"></a>What’s the max matching on a tree?</h2><p>A simple DP!</p>
<h2 id="Compress-states"><a href="#Compress-states" class="headerlink" title="Compress states"></a>Compress states</h2><p>If we draw out the whole trie, well, we’ll get $2^{1000}$ nodes.<br>So how could we handle it? We should compress the states.</p>
<p>Imagine that there is a matrix $A$.<br>$A_{i,j}$ means there are $i$ ‘(‘ edges and $j$ ‘)’ edges on the path from this node to the root.<br>(which also means there are $n-i$ ‘(‘ edges and $n-j$ ‘)’ edges on the path from this node to the leaves)<br><em>PS: Cause we must make the bracket sequences correct, $i$ must bigger than $j$.</em></p>
<p>Than move the DP on trees to matrix.</p>
<h1 id="The-state-transfer-equation-is"><a href="#The-state-transfer-equation-is" class="headerlink" title="The state transfer equation is:"></a>The state transfer equation is:</h1><p>$$<br>\begin{align*}<br>&amp;f[i][j]&#x3D;\begin{cases}<br>g[i+1][j]+max(g[i][j+1],f[i][j+1])+1, &amp;g[i+1]&gt;g[i][j+1]\<br>g[i][j+1]+max(g[i+1][j],f[i+1][j])+1, &amp;g[i+1]&lt;&#x3D;g[i][j+1]\<br>\end{cases}\<br>&amp;g[i][j]&#x3D;max(f[i+1][j],g[i+1][j])+max(g[i][j+1],f[i][j+1])<br>\end{align*}<br>$$</p>
<p>$f[i][j]$ is the state that this node have a match edge to his children.</p>
<p>$g[i][j]$ haven’t.</p>
<h1 id="CODE"><a href="#CODE" class="headerlink" title="CODE:"></a>CODE:</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">1003</span>,M=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="type">int</span> f[N][N],g[N][N];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);n++;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=n<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=n;j&gt;=i;j--)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i==j)&#123;</span><br><span class="line">				f[i][j]=g[i][j+<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">				g[i][j]=<span class="built_in">max</span>(g[i][j+<span class="number">1</span>],f[i][j+<span class="number">1</span>]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(j==n)&#123;</span><br><span class="line">				f[i][j]=g[i+<span class="number">1</span>][j]+<span class="number">1</span>;</span><br><span class="line">				g[i][j]=<span class="built_in">max</span>(g[i+<span class="number">1</span>][j],f[i+<span class="number">1</span>][j]);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(g[i+<span class="number">1</span>][j]&gt;g[i][j+<span class="number">1</span>])f[i][j]=(g[i+<span class="number">1</span>][j]+<span class="built_in">max</span>(g[i][j+<span class="number">1</span>],f[i][j+<span class="number">1</span>])+<span class="number">1</span>)%M;</span><br><span class="line">				<span class="keyword">else</span> f[i][j]=(g[i][j+<span class="number">1</span>]+<span class="built_in">max</span>(g[i+<span class="number">1</span>][j],f[i+<span class="number">1</span>][j])+<span class="number">1</span>)%M;</span><br><span class="line">				g[i][j]=(<span class="built_in">max</span>(f[i+<span class="number">1</span>][j],g[i+<span class="number">1</span>][j])+<span class="built_in">max</span>(g[i][j+<span class="number">1</span>],f[i][j+<span class="number">1</span>]))%M;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,<span class="built_in">max</span>(f[<span class="number">1</span>][<span class="number">1</span>],g[<span class="number">1</span>][<span class="number">1</span>]));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF1152D/" data-id="cl3ri3l2h00001cw2b6kr9jks" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF959D" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF959D/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.446Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[math]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/959/D">link</a></p>
<blockquote>
<ul>
<li>$b$ is lexicographically greater than or equal to $a$.</li>
<li>$b_i ≥2$.</li>
<li>$b$ is pairwise coprime: for every $1 ≤ i &lt; j ≤ n$,  $b_i$ and $b_j$ are coprime</li>
</ul>
</blockquote>
<p>If $i&lt;j,b_i&gt;b_j$,  $b$ is lexicographically greater than or equal to $a$, then swap $b_i$ and $b_j$, the set of numbers of $b$ is the same.</p>
<p>Therefore, $b$ is increasing.<br>Every time we choose the number of $b_i$, must choose the minimum value that meets the condition.</p>
<p>So, what the requirement means?</p>
<p>First, $b_i&#x3D;a_i$, until $b_i$ can’t equal to $a_i$, must bigger.($\gcd(b_i,a_j)!&#x3D;1, j&lt;i$)<br>We can reach that by sieve method.</p>
<p>Later, we don’t need to care about lexicographically greater, which means we don’t need to care about $a$.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N=<span class="number">2000000</span>;</span><br><span class="line"><span class="type">int</span> n,a,aa,b,v[N+<span class="number">5</span>],f,P[N];</span><br><span class="line">set&lt;<span class="type">int</span>&gt; p;</span><br><span class="line">set&lt;<span class="type">int</span>&gt;::iterator it;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=x;i&lt;=N;i+=x)<span class="keyword">if</span>(!v[i])v[i]=<span class="number">1</span>,p.<span class="built_in">erase</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=N;i++)&#123;</span><br><span class="line">		p.<span class="built_in">insert</span>(i);</span><br><span class="line">		<span class="keyword">if</span>(!v[i])P[++P[<span class="number">0</span>]]=i;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=P[<span class="number">0</span>]&amp;&amp;i*P[j]&lt;=N;j++)&#123;</span><br><span class="line">			v[i*P[j]]=<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">if</span>(i%P[j]==<span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">memset</span>(v,<span class="number">0</span>,<span class="keyword">sizeof</span> v);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="type">int</span> o=<span class="number">1</span>;o&lt;=n;o++)&#123;</span><br><span class="line">		b=<span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a);</span><br><span class="line">		<span class="keyword">if</span>(f)it=p.<span class="built_in">begin</span>();</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			it=p.<span class="built_in">lower_bound</span>(a);</span><br><span class="line">			<span class="keyword">if</span>(*it!=a)f=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,*it);</span><br><span class="line">		aa=a=*it;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;P[i]*P[i]&lt;=aa;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(a%P[i]==<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="keyword">if</span>(!v[P[i]])<span class="built_in">update</span>(P[i]);</span><br><span class="line">				<span class="keyword">for</span>(;a%P[i]==<span class="number">0</span>;a/=P[i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(a!=<span class="number">1</span>&amp;&amp;!v[a])<span class="built_in">update</span>(a);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF959D/" data-id="cl3ri3l3a000n1cw2c04n62dz" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-CF894B" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/30/CF894B/" class="article-date">
  <time class="dt-published" datetime="2022-05-29T16:12:37.443Z" itemprop="datePublished">2022-05-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>[[math]]<br><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/894/B">link</a></p>
<p>First, it’s obvious that the numbers put can be only 1 or -1.</p>
<p>If k equals to -1 and the parity of n and m differ, the answer is obviously 0.</p>
<blockquote>
<p>Assume that $n$ is even and $m$ is even, the count of -1 equals to $n<em>odd$ (even) and $m</em>odd$ (odd), and it is impassible to be odd and even at the same time.</p>
</blockquote>
<p>Otherwise, for the first n-1 lines and the first m-1 columns, we can put either 1 or -1 in it,<br>and there’re $2^{(n - 1) * (m-1)}$ ways in total.</p>
<p> Then it’s obvious that the remaining numbers are uniquely determined because the product of each row and each column is known already.</p>
<p>So in this case the answer is $2^{(n - 1) * (m-1)}$ .</p>
<p>We can use fast power, which is easy.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line"><span class="type">const</span> ll mod=<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line">ll n,m,ret;</span><br><span class="line"><span class="type">int</span> k;</span><br><span class="line"><span class="function">ll <span class="title">fp</span><span class="params">(ll x,ll a)</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(ret=<span class="number">1</span>;a;a&gt;&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span>(a&amp;<span class="number">1</span>)(ret*=x)%=mod;</span><br><span class="line">		(x*=x)%=mod;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld%d&quot;</span>,&amp;n,&amp;m,&amp;k);</span><br><span class="line">	<span class="keyword">if</span>(!~k&amp;&amp;(n&amp;<span class="number">1</span>)!=(m&amp;<span class="number">1</span>))<span class="built_in">printf</span>(<span class="string">&quot;0&quot;</span>),<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,<span class="built_in">fp</span>(<span class="built_in">fp</span>(<span class="number">2</span>,n<span class="number">-1</span>),m<span class="number">-1</span>));</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>(If the code is very long, I’ll leave a link.)</p>
<p>2022.3.28</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/30/CF894B/" data-id="cl3ri3l39000m1cw25tuigflz" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/30/%E6%9C%AA%E5%91%BD%E5%90%8D/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/30/P5121/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/30/CF1662N/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/30/CF1662L/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/30/CF1662I/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>